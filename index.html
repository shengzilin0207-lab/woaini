<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>è“è‰²çˆ±å¿ƒåŠ¨ç”»-å°æœ¨ç™½</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            width: 100vw;
            height: 100vh;
            background: #000;
            overflow: hidden;
            position: relative;
            font-family: "Microsoft YaHei", sans-serif;
        }
        /* å±…ä¸­æ–‡å­—ï¼šå°æœ¨ç™½ ç½®é¡¶å±‚çº§ */
        #text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 36px;
            color: #0000ff;
            z-index: 999;
            pointer-events: none;
        }
        /* æ ¸å¿ƒï¼šä¸­å¿ƒçˆ±å¿ƒè½®å»“ç²’å­ï¼ˆå°åœ†ç‚¹ï¼‰ */
        .particle {
            position: absolute;
            background: #0000ff;
            border-radius: 50%;
            opacity: 1;
            pointer-events: none;
            z-index: 99;
        }
        /* é¼ æ ‡è§¦å‘çš„é£˜å¿ƒç²’å­ */
        .heart {
            position: absolute;
            color: #0000ff;
            font-size: 20px;
            pointer-events: none;
            z-index: 98;
        }
        /* æµæ˜Ÿå®¹å™¨ + å³ä¸Šâ†’å·¦ä¸‹æµæ˜Ÿæ ·å¼ */
        .meteor-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 97;
            pointer-events: none;
        }
        .meteor {
            position: absolute;
            width: 120px;
            height: 2px;
            background: linear-gradient(90deg, #fff, transparent);
            border-radius: 50%;
            transform: rotate(135deg);
            opacity: 0;
            animation: meteor 4s linear infinite;
        }
        /* é›ªèŠ±é£˜å±ç²’å­ */
        .snow {
            position: absolute;
            color: #fff;
            font-size: 12px;
            pointer-events: none;
            z-index: 96;
        }
        /* åŠ¨ç”»å…³é”®å¸§ */
        @keyframes meteor {
            0% {top: -10%; right: -10%; opacity: 1;}
            100% {top: 110%; right: 110%; opacity: 0;}
        }
        @keyframes heartFall {
            0% {opacity: 1; transform: translate(0, 0) scale(1);}
            100% {opacity: 0; transform: translate(60px, 100vh) scale(0.6);}
        }
        @keyframes snowFall {
            0% {opacity: 0; transform: translate(0, 0) rotate(0deg);}
            10% {opacity: 1;}
            90% {opacity: 1;}
            100% {opacity: 0; transform: translate(-30px, 100vh) rotate(360deg);}
        }
    </style>
</head>
<body>
    <div id="text">å°æœ¨ç™½</div>
    <div class="meteor-container"></div>

    <script>
        // ========== 1. æ ¸å¿ƒï¼šä¸­å¿ƒçˆ±å¿ƒè½®å»“ç²’å­ï¼ˆä¿®å¤ç‰ˆï¼ŒæŒç»­ç”Ÿæˆä¸æ¶ˆå¤±ï¼‰ ==========
        class HeartParticle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.size = Math.random() * 4 + 2; // ç²’å­å¤§å°è°ƒå¤§ï¼Œæ›´æ˜æ˜¾
                // ç²’å­è½»å¾®æ‰©æ•£ï¼Œä¸è·‘å
                this.speedX = (Math.random() - 0.5) * 0.8;
                this.speedY = (Math.random() - 0.5) * 0.8;
                this.alpha = 1;
                this.decay = Math.random() * 0.01 + 0.003; // è¡°å‡å˜æ…¢ï¼Œç²’å­åœç•™æ›´ä¹…
                this.element = document.createElement('div');
                this.element.className = 'particle';
                this.element.style.width = `${this.size}px`;
                this.element.style.height = `${this.size}px`;
                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;
                document.body.appendChild(this.element);
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.alpha -= this.decay;
                this.element.style.opacity = this.alpha;
                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;
                return this.alpha > 0;
            }
        }

        // çˆ±å¿ƒæ•°å­¦å…¬å¼ç”Ÿæˆï¼ˆå›ºå®šä¸­å¿ƒï¼ŒæŒç»­ç”Ÿæˆï¼‰
        let particles = [];
        const centerX = window.innerWidth / 2;
        const centerY = window.innerHeight / 2;
        const heartScale = 12; // çˆ±å¿ƒæ•´ä½“å¤§å°ï¼Œè¶Šå¤§çˆ±å¿ƒè¶Šæ˜æ˜¾

        function generateHeartParticles() {
            // æ¯æ¬¡ç”Ÿæˆ20ä¸ªç²’å­ï¼Œçˆ±å¿ƒè½®å»“æ›´é¥±æ»¡
            for (let i = 0; i < 20; i++) {
                let t = Math.random() * Math.PI * 2;
                let x = 16 * Math.pow(Math.sin(t), 3);
                let y = 13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t);
                // å›ºå®šå±å¹•ä¸­å¿ƒç”Ÿæˆçˆ±å¿ƒ
                let posX = centerX + x * heartScale;
                let posY = centerY - y * heartScale;
                particles.push(new HeartParticle(posX, posY));
            }
            // è¿‡æ»¤æ¶ˆå¤±çš„ç²’å­ï¼Œä¿æŒæ€§èƒ½
            particles = particles.filter(particle => particle.update());
        }

        // æŒç»­æ¸²æŸ“çˆ±å¿ƒç²’å­ï¼Œ60å¸§/ç§’
        function animateHeart() {
            generateHeartParticles();
            requestAnimationFrame(animateHeart);
        }
        animateHeart();

        // ========== 2. é¼ æ ‡è§¦å‘é£˜å¿ƒç²’å­ ==========
        document.addEventListener('mousemove', createHeart);
        document.addEventListener('click', createHeart);
        function createHeart(e) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerText = 'ğŸ’™'; // è“è‰²çˆ±å¿ƒç¬¦å·
            const x = e.clientX - 10;
            const y = e.clientY - 10;
            heart.style.left = `${x}px`;
            heart.style.top = `${y}px`;
            // éšæœºå¤§å°å’Œä¸‹è½æ—¶é•¿
            const scale = Math.random() * 1 + 0.6;
            const duration = Math.random() * 4 + 2;
            heart.style.transform = `scale(${scale})`;
            heart.style.animation = `heartFall ${duration}s linear forwards`;
            document.body.appendChild(heart);
            // åŠ¨ç”»ç»“æŸåˆ é™¤
            setTimeout(() => heart.remove(), duration * 1000);
        }

        // ========== 3. å³ä¸Šâ†’å·¦ä¸‹æµæ˜Ÿ ==========
        const meteorContainer = document.querySelector('.meteor-container');
        const meteorCount = 12; // æµæ˜Ÿæ•°é‡ï¼Œé¿å…è¿‡å¤šé®æŒ¡çˆ±å¿ƒ
        for (let i = 0; i < meteorCount; i++) {
            const meteor = document.createElement('div');
            meteor.className = 'meteor';
            // éšæœºæµæ˜Ÿé•¿åº¦ã€å»¶è¿Ÿã€é€Ÿåº¦
            const len = Math.random() * 100 + 80;
            const delay = Math.random() * 8;
            const duration = Math.random() * 3 + 3;
            meteor.style.width = `${len}px`;
            meteor.style.animationDelay = `${delay}s`;
            meteor.style.animationDuration = `${duration}s`;
            meteorContainer.appendChild(meteor);
        }

        // ========== 4. é›ªèŠ±é£˜å± ==========
        function createSnow() {
            const snow = document.createElement('div');
            snow.className = 'snow';
            snow.innerText = 'â„ï¸';
            // éšæœºé›ªèŠ±ä½ç½®å’Œå¤§å°
            const randomX = Math.random() * window.innerWidth;
            const randomSize = Math.random() * 1 + 0.5;
            snow.style.left = `${randomX}px`;
            snow.style.top = '-20px';
            snow.style.fontSize = `${12 * randomSize}px`;
            // éšæœºä¸‹è½æ—¶é•¿
            const duration = Math.random() * 6 + 4;
            snow.style.animation = `snowFall ${duration}s linear forwards`;
            document.body.appendChild(snow);
            // åŠ¨ç”»ç»“æŸåˆ é™¤
            setTimeout(() => snow.remove(), duration * 1000);
        }
        // é›ªèŠ±å¯†åº¦ï¼ˆ200=é€‚ä¸­ï¼Œä¸é®æŒ¡çˆ±å¿ƒï¼‰
        setInterval(createSnow, 200);

        // ========== 5. çª—å£ç¼©æ”¾é€‚é…ï¼ˆçˆ±å¿ƒå§‹ç»ˆå±…ä¸­ï¼‰ ==========
        window.addEventListener('resize', () => {
            // çª—å£å˜åŒ–æ—¶æ›´æ–°çˆ±å¿ƒä¸­å¿ƒ
            centerX = window.innerWidth / 2;
            centerY = window.innerHeight / 2;
        });
    </script>
</body>
</html>
