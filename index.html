<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Loveå°æœ¨ç™½</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            width: 100vw;
            height: 100vh;
            background: #000;
            overflow: hidden;
            position: relative;
            font-family: "Microsoft YaHei", sans-serif;
        }
        /* å°æœ¨ç™½ï¼šæ·¡è“è‰² ç½®é¡¶å±‚çº§ */
        #text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 36px;
            color: #87CEFA; /* æ·¡è“è‰² */
            z-index: 999;
            pointer-events: none;
        }
        /* æ ¸å¿ƒï¼šä¸­å¿ƒçˆ±å¿ƒç²’å­ï¼ˆç™½è“æ¸å˜ï¼Œå–æ¶ˆåŸçº¯è‰²èƒŒæ™¯ï¼‰ */
        .particle {
            position: absolute;
            border-radius: 50%;
            opacity: 1;
            pointer-events: none;
            z-index: 99;
            /* ç²’å­åŸºç¡€æ¸å˜ï¼ŒJSåŠ¨æ€è°ƒæ•´æ·±æµ…è´´åˆçˆ±å¿ƒè½®å»“ */
            background: linear-gradient(135deg, #fff, #0000ff);
        }
        /* é¼ æ ‡è§¦å‘çš„é£˜å¿ƒç²’å­ */
        .heart {
            position: absolute;
            color: #0000ff;
            font-size: 20px;
            pointer-events: none;
            z-index: 98;
        }
        /* æµæ˜Ÿå®¹å™¨ + å³ä¸Šâ†’å·¦ä¸‹æµæ˜Ÿæ ·å¼ */
        .meteor-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 97;
            pointer-events: none;
        }
        .meteor {
            position: absolute;
            width: 120px;
            height: 2px;
            background: linear-gradient(90deg, #fff, transparent);
            border-radius: 50%;
            transform: rotate(135deg);
            opacity: 0;
            animation: meteor 4s linear infinite;
        }
        /* é›ªèŠ±é£˜å±ç²’å­ï¼šæ”¾å¤§ç‰ˆ */
        .snow {
            position: absolute;
            color: #fff;
            font-size: 24px; /* é›ªèŠ±æ”¾å¤§è‡³24pxåŸºç¡€å°ºå¯¸ */
            pointer-events: none;
            z-index: 96;
        }
        /* åŠ¨ç”»å…³é”®å¸§ */
        @keyframes meteor {
            0% {right: -10%; opacity: 1;}
            100% {right: 110%; top: 100%; opacity: 0;}
        }
        @keyframes heartFall {
            0% {opacity: 1; transform: translate(0, 0) scale(1);}
            100% {opacity: 0; transform: translate(60px, 100vh) scale(0.6);}
        }
        @keyframes snowFall {
            0% {opacity: 0; transform: translate(0, 0) rotate(0deg);}
            10% {opacity: 1;}
            90% {opacity: 1;}
            100% {opacity: 0; transform: translate(-30px, 100vh) rotate(360deg);}
        }
    </style>
</head>
<body>
    <div id="text">å°æœ¨ç™½</div>
    <div class="meteor-container"></div>

    <script>
        // ========== 1. æ ¸å¿ƒï¼šä¸­å¿ƒçˆ±å¿ƒç²’å­ï¼ˆå¤–ç™½å†…æ·±è“æ¸å˜ï¼Œè´´åˆè½®å»“ï¼‰ ==========
        class HeartParticle {
            constructor(x, y, gradientRatio) {
                this.x = x;
                this.y = y;
                this.gradientRatio = gradientRatio; // æ¸å˜æ¯”ä¾‹ï¼šæ§åˆ¶ç²’å­ç™½è“æ·±æµ…ï¼ˆ0=å…¨ç™½ï¼Œ1=å…¨æ·±è“ï¼‰
                this.size = Math.random() * 4 + 2;
                this.speedX = (Math.random() - 0.5) * 0.8;
                this.speedY = (Math.random() - 0.5) * 0.8;
                this.alpha = 1;
                this.decay = Math.random() * 0.01 + 0.003;
                this.element = document.createElement('div');
                this.element.className = 'particle';
                this.element.style.width = `${this.size}px`;
                this.element.style.height = `${this.size}px`;
                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;
                // åŠ¨æ€è®¾ç½®æ¸å˜ï¼šæ ¹æ®ç²’å­åœ¨çˆ±å¿ƒçš„ä½ç½®ï¼Œå¤–ç™½ï¼ˆä½æ¯”ä¾‹ï¼‰å†…æ·±è“ï¼ˆé«˜æ¯”ä¾‹ï¼‰
                const whiteAlpha = 1 - this.gradientRatio; // çˆ±å¿ƒå¤–å›´ç™½è‰²å æ¯”é«˜
                const blueR = 0, blueG = 0, blueB = 255;    // æ·±è“#0000ff
                // ç”Ÿæˆrgbaæ¸å˜ï¼Œè´´åˆçˆ±å¿ƒè½®å»“çš„ç™½è“è¿‡æ¸¡
                this.element.style.background = `linear-gradient(135deg, 
                    rgba(255,255,255,${whiteAlpha}), 
                    rgba(${blueR},${blueG},${blueB},1)
                )`;
                document.body.appendChild(this.element);
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.alpha -= this.decay;
                this.element.style.opacity = this.alpha;
                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;
                return this.alpha > 0;
            }
        }

        // çˆ±å¿ƒæ•°å­¦å…¬å¼ç”Ÿæˆï¼ˆæ ¹æ®ç²’å­åˆ°ä¸­å¿ƒçš„è·ç¦»ï¼Œåˆ†é…æ¸å˜æ¯”ä¾‹ï¼šå¤–ç™½å†…æ·±è“ï¼‰
        let particles = [];
        let centerX = window.innerWidth / 2;
        let centerY = window.innerHeight / 2;
        const heartScale = 12;
        const maxHeartRadius = heartScale * 16; // çˆ±å¿ƒæœ€å¤§åŠå¾„ï¼Œç”¨äºè®¡ç®—æ¸å˜æ¯”ä¾‹

        function generateHeartParticles() {
            for (let i = 0; i < 20; i++) {
                let t = Math.random() * Math.PI * 2;
                let x = 16 * Math.pow(Math.sin(t), 3);
                let y = 13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t);
                let posX = centerX + x * heartScale;
                let posY = centerY - y * heartScale;

                // è®¡ç®—ç²’å­åˆ°çˆ±å¿ƒä¸­å¿ƒçš„è·ç¦»ï¼Œåˆ†é…æ¸å˜æ¯”ä¾‹
                let distanceToCenter = Math.sqrt(Math.pow(x * heartScale, 2) + Math.pow(y * heartScale, 2));
                let gradientRatio = Math.min(distanceToCenter / maxHeartRadius, 1); 
                // æ¸å˜æ¯”ä¾‹ï¼š0ï¼ˆçˆ±å¿ƒå¤–å›´ï¼Œå…¨ç™½ï¼‰â†’1ï¼ˆçˆ±å¿ƒå†…éƒ¨ï¼Œå…¨æ·±è“ï¼‰

                // ä¼ å…¥æ¸å˜æ¯”ä¾‹ï¼Œç”Ÿæˆç™½è“æ¸å˜ç²’å­
                particles.push(new HeartParticle(posX, posY, gradientRatio));
            }
            particles = particles.filter(particle => particle.update());
        }

        function animateHeart() {
            generateHeartParticles();
            requestAnimationFrame(animateHeart);
        }
        animateHeart();

        // ========== 2. é¼ æ ‡è§¦å‘é£˜å¿ƒç²’å­ ==========
        document.addEventListener('mousemove', createHeart);
        document.addEventListener('click', createHeart);
        function createHeart(e) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerText = 'ğŸ’™';
            const x = e.clientX - 10;
            const y = e.clientY - 10;
            heart.style.left = `${x}px`;
            heart.style.top = `${y}px`;
            const scale = Math.random() * 1 + 0.6;
            heart.style.transform = `scale(${scale})`;
            const duration = Math.random() * 4 + 2;
            heart.style.animation = `heartFall ${duration}s linear forwards`;
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), duration * 1000);
        }

        // ========== 3. æµæ˜Ÿï¼šå³ä¸Šâ†’å·¦ä¸‹ + ä¸Šä¸‹éšæœºåˆ†æ•£ ==========
        const meteorContainer = document.querySelector('.meteor-container');
        const meteorCount = 12; // æµæ˜Ÿæ•°é‡
        for (let i = 0; i < meteorCount; i++) {
            const meteor = document.createElement('div');
            meteor.className = 'meteor';
            const len = Math.random() * 150 + 80;
            const delay = Math.random() * 20;
            const duration = Math.random() * 6 + 2;
            const randomTop = Math.random() * 80 + '%'; // ä¸Šä¸‹åˆ†æ•£æ ¸å¿ƒ
            meteor.style.width = `${len}px`;
            meteor.style.animationDelay = `${delay}s`;
            meteor.style.animationDuration = `${duration}s`;
            meteor.style.top = randomTop;
            meteorContainer.appendChild(meteor);
        }

        // ========== 4. é›ªèŠ±é£˜å±ï¼šæ”¾å¤§ç‰ˆ ==========
        function createSnow() {
            const snow = document.createElement('div');
            snow.className = 'snow';
            snow.innerText = 'â„ï¸';
            const randomX = Math.random() * window.innerWidth;
            const randomSize = Math.random() * 1 + 0.5; // 24px-36pxéšæœºå¤§å°
            snow.style.left = `${randomX}px`;
            snow.style.top = '-20px';
            snow.style.fontSize = `${24 * randomSize}px`;
            const duration = Math.random() * 6 + 4;
            snow.style.animation = `snowFall ${duration}s linear forwards`;
            document.body.appendChild(snow);
            setTimeout(() => snow.remove(), duration * 1000);
        }
        setInterval(createSnow, 200); // é›ªèŠ±å¯†åº¦ä¸å˜

        // ========== 5. çª—å£ç¼©æ”¾é€‚é…ï¼ˆçˆ±å¿ƒå§‹ç»ˆå±…ä¸­+æ¸å˜åŒæ­¥ï¼‰ ==========
        window.addEventListener('resize', () => {
            centerX = window.innerWidth / 2;
            centerY = window.innerHeight / 2;
        });
    </script>
</body>
</html>
